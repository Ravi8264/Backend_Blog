# Main Application Configuration
spring.application.name=blog

# Active Profile (change to 'prod' for production)
spring.profiles.active=${SPRING_PROFILES_ACTIVE:prod}

# Server Configuration
server.port=${PORT:5000}

# Common Configuration (applies to all profiles)
# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Swagger/OpenAPI Configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.api-docs.enabled=true

# JPA Common Settings (Auto-detected, but you can specify)
spring.jpa.properties.hibernate.dialect=${JPA_DIALECT:org.hibernate.dialect.PostgreSQLDialect}
# For MySQL: org.hibernate.dialect.MySQL8Dialect
# For H2: org.hibernate.dialect.H2Dialect

# Health Check Configuration
management.endpoint.health.enabled=true
management.endpoint.health.show-details=always
management.endpoints.web.exposure.include=health,info
management.endpoints.web.base-path=/actuator

# Domain Configuration
app.domain.name=thinkvista.in
app.domain.url=${APP_DOMAIN_URL:https://thinkvista.in}
app.domain.www=${APP_DOMAIN_WWW:https://www.thinkvista.in}

# CORS Configuration - ADDED FOR NETLIFY PROXY
spring.web.cors.allowed-origins=${CORS_ORIGINS:https://thinkvista.in,https://www.thinkvista.in,https://magnificent-centaur-a26042.netlify.app}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

# SSL Configuration - Let Load Balancer handle HTTPS
server.ssl.enabled=false

# Security Headers
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=lax

# Elastic Beanstalk Configuration
server.servlet.context-path=/
logging.level.root=INFO
server.error.include-stacktrace=on_param

# Custom Headers for Proxy Support
server.forward-headers-strategy=framework
server.use-forward-headers=true